'use client'; import { useState } from 'react'; import { useRouter } from 'next/navigation'; export default function Register(){ const [email,setEmail]=useState(''); const [password,setPassword]=useState(''); const router=useRouter(); async function submit(e){ e.preventDefault(); try{ const res = await fetch('/api/auth', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ action:'register', email, password }) }); const j=await res.json(); if(res.ok && j.token){ localStorage.setItem('token', j.token); router.push('/dashboard'); } else { alert(j.error||'erro'); } }catch(e){ alert('erro'); } } return (<div className='max-w-md mx-auto bg-white p-6 rounded shadow'><h2 className='text-2xl font-semibold mb-4'>Registrar</h2><form onSubmit={submit} className='space-y-4'><input value={email} onChange={e=>setEmail(e.target.value)} placeholder='Email' className='w-full border p-3 rounded' /><input value={password} onChange={e=>setPassword(e.target.value)} placeholder='Senha' type='password' className='w-full border p-3 rounded' /><button className='w-full bg-violet-600 text-white py-3 rounded'>Criar conta</button></form></div>); }
